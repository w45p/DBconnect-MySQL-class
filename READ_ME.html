<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>DATABASE GOODIES V1.2 READ ME</title>
</head>

<body>
<p> /***********************************************<br />
  <strong>DATABASE GOODIES V1.3<br />
  CLASS NAME: DBconnect
  </strong><br />
  <em>Description:<br />
  A class with database goodies for easy interaction with the DB and easy login/user check.<br />
  Being a class, it supports using more than one database in a single file.</em><br />
  <br />
  <strong>Revisions:<br />
  </strong></p>
<table width="500" border="1">
  <tr>
    <td height="130"><em>v1.2 </em></td>
    <td><em>(1/9/11)</em></td>
    <td><em>- Improved the password encryption feature through the encryption_class by by A J Marston. <br />
- Added READ_ME.html.<br />
- Fixed bug with readdatabase(); when strings where not passed.
- Fixed variable issues with usage of common names for vars. *Make sure your vars are different than the set _GLOBALS
    <strong>((DEPRECATED in v3))</strong></em></td>
  </tr>
    <tr>
    <td height="130"><em>v1.3 </em></td>
    <td><em>(15/9/11)</em></td>
    <td><p><em>- Function library converted into a class to simply usage and allow connecting to more than one database in a single file.<br />
    -Fixes and expantions to READ_ME.html to fit the new class.</em></p></td>
  </tr>
</table>
<blockquote>
  <p> <strong>-=w45p (0D35=-</strong><br />
    * Created by: Ryoku Weil [w45p].<br />
    * Visit http://www.ryoku-weil.biz to contact w45p.<br />
    * This notice MUST stay intact for legal use.<br />
    * Requires:<br />
  + MySQL <br />
  + PHP 
  <br />
    * Password encryption uses a mix of: <br />
    -
    Master password (AJM's encryption_class).<br />
    -
    sha1(); <br />
    -
  base64_encode/decode();</p>
  <p><br />
    <br />
    <strong>*****METHODS of CLASS DBconnect*****</strong><br />
  </p>
  <table width="779" border="1">
    <tr align="center">
      <td><strong>Name</strong></td>
      <td><strong>Action</strong></td>
      <td><strong>Required Variables</strong></td>
      <td><strong>Extra Info</strong></td>
    </tr>
    <tr>
      <td width="109">setinfo();</td>
      <td width="141">Sets Information for DB connection.</td>
      <td width="257">$dbhost $dbuser $dbpswd $dbname $master </td>
      <td width="244">-$master is the master password that will be used to encrypt with method encodepass();</td>
    </tr>
    <tr>
      <td width="109">checkready();</td>
      <td width="141"> Checks if setinfo() has been determined.</td>
      <td width="257">-------</td>
      <td width="244"> <p>-Called only by dbconnectme();<br />
        -Prints error and kills code excecution if Setinfo has not been called or if any of setinfo() variables is set to NULL.
      </p></td>
    </tr>    <tr>
      <td width="109">dbconnectme();</td>
      <td width="141"> Connects to database.</td>
      <td width="257">&nbsp;</td>
      <td width="244"> -Called by all other methods.</td>
    </tr>
    <tr>
      <td>insertdatabase();</td>
      <td>Inserts data to DB.</td>
      <td>$fields[] $data[] $table</td>
      <td>-Returns 1 upon success. 0 upon failure.</td>
    </tr>
    <tr>
      <td>checkexist();</td>
      <td>Checks if data exists.</td>
      <td>$field $data $table</td>
      <td>-Returns 0 if no user was found.</td>
    </tr>
    <tr>
      <td>readdatabase();*</td>
      <td>Reads database fields.</td>
      <td>$select,$fields[],$data[],$table,<br />
      $orderby,$groupby,$limit</td>
      <td>-Supports ORDER BY, GROUP BY, LIMIT set =0; for null.<br />
      -Returns mysql_query array or 0 if invalid.</td>
    </tr>
    <tr>
      <td>updatedatabase();</td>
      <td>Updates database.</td>
      <td>$fields[],$data[],$table,$where</td>
      <td>- Returns 1 upon success. <br />
      - $where should be &quot;field='value'&quot;<br />
      - Supports &quot;AND&quot;.</td>
    </tr>
    <tr>
      <td>deleteentry();</td>
      <td>Deletes specific entry.</td>
      <td>$field,$data,$table</td>
      <td>- Returns 1 upon success. <br />
        -
      You should use a unique field.</td>
    </tr>
    <tr>
      <td>usercheck();</td>
      <td>Allows/Denies Users.</td>
      <td>$table $user $password</td>
      <td><p>- Table must include:<br />
        id(INT), user(TEXT), codex(TEXT).<br />
        -Uncoded field $password will be checked against coded field &quot;codex&quot; in DB.<br />
      - Returns &quot;6r4n73d&quot; when true or &quot;0&quot; when false.</p></td>
    </tr>
    <tr>
      <td>encodepass();</td>
      <td>Encrypts password.</td>
      <td>$password</td>
      <td>- Returns encrypted string, ready for saving to database.</td>
    </tr>

  </table>
  <p><strong>*EXAMPLE of calling CLASS and METHOD readdatabase(); then printing contents the dp response.</strong></p>
  <blockquote>
    <p><em>	//We include the db class...<br />
    require &quot;mydatabase_lib.class.php&quot;;</em></p>
    <p><em> //We set the DB connection information and master pawssword...</em><em><br />
      $dbhost = &quot;yourhost or localhost&quot;;<br />
      $dbuser = &quot;your DB user&quot;;<br />
      $dbpswd = &quot;your DB password&quot;;<br />
      $dbname = &quot;name of your DB&quot;;<br />
      $master = &quot;a master password to encode&quot;;<br />
      <br />
      //We create our object, declare the class and set the information of our DB...<br />
      $myFooDB= new DBconnect();<br />
    $myFooDB-&gt;setinfo($dbhost,$dbuser,$dbpswd,$dbname,$master);      </em></p>
    <p><em>//We declare the contents for our readdatabase query...<br />
      $select=&quot;*&quot;;<br />
      $fields[]=&quot;field 1&quot;;<br />
      $fields[]=&quot;field 2&quot;;<br />
      $data[]=&quot;data 1&quot;;<br />
      $data[]=&quot;data 2&quot;;<br />
      $table=&quot;name of my table&quot;;<br />
      $orderby=&quot;field 1 ASC&quot;;<br />
      $groupby=&quot;&quot;;<br />
    $limit=&quot;1,10&quot;;</em></p>
    <p><em>//We make the call to readdatabase method and print the results...<br />
      $result = $myFooDB-&gt;readdatabase($select,$fields,$data,$table,$orderby,$groupby,$limit);<br />
      while($row = mysql_fetch_array($result))<br />
      {<br />
      $amount=count($row);<br />
      $amount=$amount-1;<br />
      for ($i=0;$i&lt;=$amount;$i++){<br />
      echo $row[$i].&quot;&lt;br&gt;&quot;;<br />
      }
      } </em></p>
  </blockquote>
  <p><br />
    <em><strong>= &quot;code&quot; is defined as every PHP, JS and HTML file involved in this release: </strong><br />
    * You are free  to use this code for any purpose.<br />
    * You are fee to change this code to suit your needs, WITHOUT removal or edition of this notice.<br />
    * You are free to share this code and the changes you make to it.<br />
    * Ryoku Weil [w45p] takes no responsibility for the use of this code.<br />
  * May this code be as useful for you as it was for me.</em></p>
  <p><br />
    <strong>-=w45p (0D35=-</strong><br />
  ***********************************************/</p>
</blockquote>
<p><strong>INCLUDED CLASS FOR ENCRYPTION.</strong></p>
<p>// ******************************************************************************<br />
  // A reversible password encryption routine by:<br />
  // Copyright 2003-2009 by A J Marston &lt;http://www.tonymarston.net&gt;<br />
  // Distributed under the GNU General Public Licence<br />
  // Modification: May 2007, M. Kolar &lt;http://mkolar.org&gt;:<br />
  // No need for repeating the first character of scramble strings at the end;<br />
  // instead using the exact inverse function transforming $num2 to $num1.<br />
  // Modification: Jan 2009, A J Marston &lt;http://www.tonymarston.net&gt;:<br />
  // Use mb_substr() if it is available (for multibyte characters).<br />
  // ******************************************************************************</p>
</body>
</html>
